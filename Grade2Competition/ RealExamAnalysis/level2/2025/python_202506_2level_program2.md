25年GESP06月认证-->Python二级真题解析(编程题2-幂和数)

### 3.2 编程题 2

试题名称：幂和数 
时间限制：3.0 s 
内存限制：512.0 MB


#### 3.2.1 题目描述

对于正整数 ，如果`n` 可以表为两个`2`的次幂之和，即 $ n = 2^x +2^y$（ 均为非负整数），那么称`n`为幂和数。  

给定正整数`l`,`r` ，请你求出满足 $ l ≤ n≤r $ 的整数`n`中有多少个幂和数。

#### 3.2.2 输入格式 

一行，两个正整数`l`,`r`  ，含义如上。

#### 3.2.3 输出格式

输出一行，一个整数，表示`l`,`r`之间幂和数的数量。

#### 3.2.4 样例

##### 3.2.4.1 输入样例 1

```
2 8
```

##### 3.2.4.2 输出样例 1

```
6
```

##### 3.2.4.3 输入样例 2

```
10 100
```

##### 3.2.4.4 输出样例 2

```
20
```

#### 3.2.5 数据范围

对于所有测试点，保证 $1 ≤ l ≤ r ≤ 10^4$  

### 解题思路

#### 1. 题目理解

**题目要求** 
计算`l`,`r`之间幂和数的数量。
关键的三个点：
 1. 幂和数的定义：`n` 可以表为两个`2`的次幂之和，即 $ n = 2^x +2^y$（ 均为非负整数）
 2. 逐一判断`l`,`r`之间的整数范围的每一个数是否是幂和数
 3. 统计幂和数的数量
   
#### 2. 解题步骤
 1. 定义一个全局变量 `total` 用于统计幂和数的数量
 2. 使用循环遍历`l`到`r`之间的每一个整数`n`
 3. 对于每一个整数`n`，使用嵌套循环遍历所有可能的`x`,`y`组合，判断是否存在 $ n = 2^x +2^y$
 4. 如果存在，`total`加1，并跳出内层循环，继续判断下一个整数
 5. 输出`total`
 
#### 3. 示例代码（Python）
以下是实现上述逻辑的Python代码：

```python

l, r = map(int, input().split())
total = 0
for n in range(l, r + 1):
    found = False
    for x in range(15):  # 2^14 = 16384 > 10000
        for y in range(15):
            if (2 ** x + 2 ** y) == n:
                total += 1
                found = True
                break
        if found:
            break
print(total)
 
```

#### 4. 示例代码2（Python）
以下是另一种实现上述逻辑的Python代码：

```python
#接受输入的l和r
l, r = map(int, input().split())  # 输入两个数作为左右边界数
#定义变量保存幂和数的数量
total = 0
#遍历l到r之间的每一个整数
for i in range(l, r + 1):
    #定义变量x和y，表示2的次幂
    x = 0
    found = False  # 如果找到符合条件的x和y则变为True
    #使用嵌套循环遍历所有可能的x和y组合
    #保证2的次幂之和不超过i
    while 2 ** x <= i:
        #定义y=0
        y = 0
        #保证2的次幂之和不超过i
        while 2 ** x + 2 ** y <= i:
            #判断是否存在2的次幂之和等于i
            if 2 ** x + 2 ** y == i:
                #总数加一
                total += 1
                found = True  # 找到符合条件的x和y，终止循环
                break
            y += 1
        if found:  # 找到了符合条件的x和y,终止循环
            break
        x += 1 # x自增，继续寻找符合条件的x和y
print(total)
```